{% extends "base.html" %}
{% block title %}Payment Received — Ashen Emporium{% endblock %}

{% block content %}
<h1>Payment Received</h1>

<p class="muted">
  If your payment completed successfully, your order will be marked as paid in a moment.
</p>

{% if order %}
  <div class="card">
    <h2>Order #{{ order.id }}</h2>
    <p class="muted">Status: <strong>{{ order.get_status_display }}</strong></p>
    <p class="price-lg">{{ order.total_gbp }}</p>

    {% if order.status != "paid" %}
      <p class="muted">
        Your payment completed. If the status still shows “Placed”, refresh in a moment — Stripe confirms via webhook.
      </p>
    {% else %}
      <p class="muted">Payment confirmed.</p>
    {% endif %}

    <a class="cta-button" href="{% url 'order_confirmation' order.id %}">View order</a>
  </div>
{% endif %}

{% endblock %}
